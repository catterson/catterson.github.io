<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Using Linear Models</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
          <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://catterson.github.io/ystats/"> 
<span class="menu-text">Why Statistics?</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../calstats/calstatsSP25.html"> 
<span class="menu-text">Cal Stats [Psych 101]</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../gradstats/gradstatsSP25.html"> 
<span class="menu-text">Grad Stats [Psych 205]</span></a>
  </li>  
</ul>
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Using Linear Models</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="check-in-working-with-the-mascot-dataset" class="level2">
<h2 class="anchored" data-anchor-id="check-in-working-with-the-mascot-dataset"><a href="https://docs.google.com/forms/d/e/1FAIpQLSdrgiekPpIjCHqi_ALSJoZseMKC3BfkUGx2eC3QCExESX8zoQ/viewform?usp=sf_link">Check-In: Working With the Mascot Dataset</a></h2>
<section id="check-in-resources." class="level3">
<h3 class="anchored" data-anchor-id="check-in-resources.">Check-In Resources.</h3>
<ul>
<li><p><a href="https://www.dropbox.com/s/sknsv99q8gvlpfh/mascot_data.csv?dl=0">Link to Mascot Dataset</a></p></li>
<li><p><strong>ChatGPT Explanation of Implicit and Explicit Prejudice</strong></p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="lecture_images/6B_ChatGPT.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="515"></p>
</figure>
</div>
<ul>
<li><strong>Implicit and Explicit Prejudice in the Mascot Dataset</strong></li>
</ul>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 77%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Variable</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="even">
<td>attitude</td>
<td>a scale created based on a 13-item survey about attitudes toward native american mascots at UIUC, measured with items such as “I wish the Chief were still the mascot” and “Chief Illiniwek is a racist symbol (negatively-keyed item)”. Higher numbers = more positive rating of the mascot.</td>
</tr>
<tr class="odd">
<td>IATscore</td>
<td>a continuous implicit measure of the person’s unconscious prejudice toward / against Native Americans, measured in terms of how fast people are to associate Native American (vs.&nbsp;White) names with Past (vs.&nbsp;Present) terms. Higher scores = more Present-White and Past-Native American bias.</td>
</tr>
<tr class="even">
<td>prejudiceNatAm</td>
<td>a continuous explicit measure of the person’s conscious prejudice against Native Ameicans, measured with items such as, “Native Americans are a vanishing culture and there are few “real” Indians” and “It is now unnecessary for the U.S. government to honor their treaty obligations to Native tribes.” Higher numbers = more prejudice against Native Americans.</td>
</tr>
</tbody>
</table>
<ul>
<li><p><strong>Syllabus Guidelines :</strong></p>
<p><img src="images/clipboard-2471091874.png" class="img-fluid"></p></li>
<li><p><strong>Specific Guidelines for Today’s Lecture :</strong></p>
<ul>
<li><p>disagree with the point not the person.</p></li>
<li><p>no name-calling or labels; instead of “you’re racist”…focus on the specific opinion / belief.</p></li>
<li><p>root things in your experiences; realize that your experiences will bias you; seek to understand and listen from others.</p></li>
<li><p>not your responsibility to change another person’s mind; not going to happen today.</p></li>
<li><p>keep it slow; let people finish their thought before starting a new one.</p></li>
</ul></li>
</ul>
</section>
<section id="announcements" class="level3">
<h3 class="anchored" data-anchor-id="announcements">Announcements</h3>
<ul>
<li>Mini Exam Grades Posted
<ul>
<li>Extra Credit (for timing error &amp; rubric reconsideration).</li>
<li>Learning from the R Exam.</li>
<li>Regrades as needed.</li>
</ul></li>
<li>Mega Exam : April 25th from 2:10 - 3:35 PM; DSP has Extra Time.
<ul>
<li>Shorter!</li>
<li>Worth More Points!!</li>
<li>Will be practice exams!!!</li>
<li>Can learn from your mistakes again!!!!</li>
</ul></li>
<li>Milestone #2 : A draft of your survey.</li>
</ul>
</section>
<section id="agenda" class="level3">
<h3 class="anchored" data-anchor-id="agenda">Agenda</h3>
<ul>
<li>2:10 - 2:35 | Check-In &amp; Announcements</li>
<li>2:35 - 3:00 | The Mascot Dataset</li>
<li>3:00 - 3:30 | Work on Lab 6</li>
<li>3:30 - 3:40 | BREAK</li>
<li>3:40 - 4:00 | Linear Model Recap</li>
<li>4:00 - 4:05 | MINI BREAK</li>
<li>4:05 - 4:30 | Milestone #2 Examples</li>
<li>4:30 - 5:00 | Final Project Questions</li>
</ul>
</section>
</section>
<section id="the-mascot-dataset" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="the-mascot-dataset">The Mascot Dataset</h2>
<section id="recap-of-implict-and-explicit-prejudice" class="level3">
<h3 class="anchored" data-anchor-id="recap-of-implict-and-explicit-prejudice"><strong>Recap of Implict and Explicit Prejudice</strong></h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Check-In Answers</th>
<th>Mascot Data Examples</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>check-in go here</td>
<td><strong><img src="lecture_images/6B_ExpPrej.png" class="img-fluid"></strong></td>
</tr>
<tr class="even">
<td>check-in go here</td>
<td><strong><img src="lecture_images/6B_ImpPrej.png" class="img-fluid"></strong></td>
</tr>
</tbody>
</table>
</section>
<section id="overview-of-the-iat-measure-of-implicit-prejudice" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="overview-of-the-iat-measure-of-implicit-prejudice"><strong>Overview of the IAT (Measure of Implicit Prejudice)</strong></h3>

<div class="no-row-height column-margin column-container"><div class="">
<p><em>Note : the IAT is not a perfect measure, and there’s a fair amount of debate about whether it is a reliable and valid measure as claimed (see here and here and here for academic examples of some of this debate). FWIW my hot take is that I believe a) implicit measures are really hard to quantify, b) the underlying mechanism that experiences shape our cognition is real, c) we live in a society that prioritizes white and male voices in various ways (history education; modern media; etc.), d) that A-C together would suggest it is very likely people would hold unconscious biases that reflect those in society, and E) it’s important to identify and name those biases if you want to address them. Happy to chat more; thx for attending my footnote talk. Anyway, <a href="https://implicit.harvard.edu/implicit/takeatest.html">here’s a link to learn more or take a test for yourself</a>.</em></p>
</div></div><table class="caption-top table">
<colgroup>
<col style="width: 47%">
<col style="width: 52%">
</colgroup>
<tbody>
<tr class="odd">
<td><img src="lecture_images/6B_IAT1.png" class="img-fluid"></td>
<td><strong><img src="lecture_images/6B_IAT2.png" class="img-fluid"></strong></td>
</tr>
</tbody>
</table>
</section>
<section id="the-study" class="level3">
<h3 class="anchored" data-anchor-id="the-study">The Study</h3>
<ul>
<li><p><strong>Research Question : “Why do people differ in their beliefs about native american mascots?”</strong></p>
<ul>
<li><p><strong>Researcher (&amp; Berkeley alumnus) <a href="http://www.michaelwkraus.com/">Michael Kraus</a> :</strong> Informed by his experiences as a new faculty member at the University of Illinois at Urbana-Champaign.</p>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td><a href="https://en.wikipedia.org/wiki/Chief_Illiniwek">Chief Illiniwik</a> at a Basketball Game</td>
<td>Members of one of the over 10 tribes represented by the <a href="https://en.wikipedia.org/wiki/Illinois_Confederation">Illinois Confederation</a> at a Powwow in 2024</td>
</tr>
<tr class="even">
<td><img src="images/clipboard-3606495715.png" class="img-fluid" width="265"></td>
<td><img src="images/clipboard-2483797627.png" class="img-fluid"></td>
</tr>
</tbody>
</table></li>
<li><p>Do we need science? What are the arguments you’ve heard for why native american mascots are / are not racist?</p>
<ul>
<li><p>“IS RACIST”</p>
<ul>
<li><p>it appropriates the culture; inaccurate protrayals of a complex culture; perpetuates a defamation culture that doesn’t really lead people to seek understanding / gain knowledge.</p></li>
<li><p>important to recognize the brutal history of the US genocide against native americans, and historical views of native americans.</p></li>
<li><p>dehumanizing : mascots are “less than” human; a caricature / cartoon / exaggeration / mockery (often used for comedy).</p></li>
<li><p>cultural clothing has important significance within culture that is not recognized / ignored / mischaracterized.</p></li>
<li><p>most members of the community are a) not involved in the creation or profits of the mascot and b) are actively against it [<em>see Florida Seminoles for an alternative model.</em>]</p></li>
</ul></li>
<li><p>“NOT RACIST”</p>
<ul>
<li><p>it celebrates the culture :</p>
<ul>
<li><p>hard to celebrate a culture if they are not consulted / approving.</p></li>
<li><p>the “proud warrior” stereotype is actually rooted in racist and hateful dehumanization that was used to justify genocide.</p></li>
</ul></li>
<li><p>other groups have mascots, like the “Fighting Irish!” or “The Vikings!”</p>
<ul>
<li><p>Irish people were and currently are disciminated against (an interesting history of their “Whiteness”)</p></li>
<li><p>“Vikings” / Nordic people were not subject to the same violence that native groups were subject to / are valued / have sovereign country.</p></li>
</ul></li>
</ul></li>
</ul></li>
<li><p>Do science to test this question [<a href="https://osf.io/zbu3x/" class="uri">https://osf.io/zbu3x/</a>]&nbsp;</p></li>
</ul></li>
<li><p><strong>DISCUSS :</strong></p>
<ul>
<li><p>What has been your experience learning about indigenous culture? What indigenous authors, artists, or other forms of culture have you encountered?</p>
<ul>
<li></li>
</ul></li>
<li><p><strong>How do you think implicit prejudice (IATscore) will be related to people’s attitudes toward the native american mascot? Why?</strong></p>
<ul>
<li><strong>POS</strong> / NEG / NO RELATIONSHIP</li>
</ul></li>
<li><p>How do you think explicit prejudice (prejudiceNatAm) will be related to people’s attitudes toward the native american mascot? Why?</p>
<ul>
<li><strong>POS / NEG</strong> / NO RELATIONSHIP</li>
</ul></li>
<li><p>Which variable (explicit or implicit prejudice) do you think will be a BETTER predictor of people’s attitudes about the native american mascot? Why?</p>
<ul>
<li><p>IMPLICIT BETTER / EXPLICIT BETTER / NO DIFF</p>
<ul>
<li><p><strong>implicit :</strong> not everyone will be open to their thought and beliefs, but that will still influence them; harder to hide (than explicit); IAT emphasizes past, which might connect to how people perceive the mascot</p></li>
<li><p><strong>explicit :</strong> maybe people don’t report, but the people who are explicit are gonna let that racism alllll hang out, and they will drive the relationship; easier to measure since it’s conscious.</p></li>
</ul></li>
</ul></li>
<li><p>Other Questions About</p>
<ul>
<li><p>how do you account for people lying on surveys?????</p>
<ul>
<li><p>modern racism a “safer” form of racism to measure.</p></li>
<li><p>consistency checks : overclaiming questionnaire</p></li>
<li><p>accept that error is an inherent part of the research process let’s goooooooo!!!!!!!</p></li>
</ul></li>
</ul></li>
</ul></li>
<li><p><strong>Other Resources to Learn More About Indigenous Culture :</strong></p>
<ul>
<li><p><strong>Violence against indigenous peoples <a href="https://en.wikipedia.org/wiki/American_Indian_Wars">in history</a> and <a href="https://inthesetimes.com/features/native_american_police_killings_native_lives_matter.html">today</a> and <a href="https://www.npr.org/sections/codeswitch/2013/09/09/220654611/are-you-ready-for-some-controversy-the-history-of-redskin">in our language</a></strong></p></li>
<li><p><strong>History of <a href="https://guides.lib.berkeley.edu/IndigenousCABancroft">Indigenous peoples in California</a> and <a href="https://cejce.berkeley.edu/nasd">on Berkeley’s campus</a></strong></p></li>
<li><p>Robin Wall Kimmerer’s <a href="https://bookshop.org/books/braiding-sweetgrass/9781571313560">Braiding Sweetgrass : Indigenous Wisdom, Scientific Knowledge, and the Teaching of Plants</a></p></li>
</ul></li>
</ul>
</section>
</section>
<section id="working-on-lab-6." class="level2">
<h2 class="anchored" data-anchor-id="working-on-lab-6.">Working on <a href="../../calstats/labs/Lab6.html">Lab 6.</a></h2>
<p>See the link above for Lab 6. We will work on the lab together in class! Yeah!</p>
<section id="problem-1." class="level3">
<h3 class="anchored" data-anchor-id="problem-1.">Problem 1.</h3>
<p>These data measure Midwestern college students’ implicit and explicit prejudiced attitudes toward Native Americans, and their support for a college Native American mascot considered racist by local tribes. The researchers predicted that both implicit prejudice (IV1 = IATscore) and explicit prejudice (IV2 = prejudiceNatAm) would be related to more positive attitudes toward the native american mascot (DV = attitude). Test these researchers theory.</p>
<ol type="1">
<li>Load the data, check to make sure the data loaded correctly, and graph each variable that will be used in your models.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>mascot <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"~/Dropbox/!WHY STATS/Class Datasets/mascot_data.csv"</span>, <span class="at">stringsAsFactors =</span> T)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mascot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Income MotherEducation FatherEducation attitude liberal  Race PayCredit
1      8               5               6 93.40659     4.5 White    Credit
2      6               4               7 54.94505     4.0 White    Credit
3      7               5               4 85.71429     2.0 White    Credit
4      7               5               6 47.25275     2.5 White    Credit
5      3               5               5 69.23077     4.0 White    Credit
6      1               3               9 47.25275     4.0 White    Credit
  IATscore prejudiceNatAm
1     0.29       3.571429
2     0.46       3.238095
3     0.77       2.714286
4    -0.10       2.428571
5     0.73       3.238095
6     0.79       1.619048</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(mascot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 201</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(mascot<span class="sc">$</span>attitude)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6BL_MascotModels_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(mascot<span class="sc">$</span>IATscore, <span class="at">main =</span> <span class="st">"Higher Numbers = Associate NatAm with Old</span><span class="sc">\n</span><span class="st">Lower Number = Associate NatAm with Modern"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> <span class="fu">mean</span>(mascot<span class="sc">$</span>IATscore), <span class="at">lwd =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6BL_MascotModels_files/figure-html/unnamed-chunk-1-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(mascot<span class="sc">$</span>prejudiceNatAm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6BL_MascotModels_files/figure-html/unnamed-chunk-1-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<ol type="1">
<li>Define a linear model to predict the variable attitudes (DV) from implicit prejudice (IV1 = IATscore). Include a graph of the linear model, and report the slope and R2 value of this model beneath this graph.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>mod1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(attitude <span class="sc">~</span> IATscore, <span class="at">data =</span> mascot)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(attitude <span class="sc">~</span> IATscore, <span class="at">data =</span> mascot)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(mod1, <span class="at">lwd =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6BL_MascotModels_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(mod1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)    IATscore 
   60.55966    10.80089 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># INTERCEPT = THE PREDICTED VALUE OF Y WHEN ALL X VALUES ARE ZERO.</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>SSM <span class="ot">&lt;-</span> <span class="fu">sum</span>(mod1<span class="sc">$</span>residuals<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>SSM</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 72193.25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>SST <span class="ot">&lt;-</span> <span class="fu">sum</span>((mascot<span class="sc">$</span>attitude <span class="sc">-</span> <span class="fu">mean</span>(mascot<span class="sc">$</span>attitude))<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>SST</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 76487.21</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>SST<span class="sc">-</span>SSM</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4293.957</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>(SST <span class="sc">-</span> SSM)<span class="sc">/</span>SST</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.05613955</code></pre>
</div>
</div>
<ul>
<li><p>BREAK TIME : MEET BACK AT 4:00</p></li>
<li><p>EVAN HAS QUESTIONS!!!</p></li>
</ul>
<ol type="1">
<li>Define a linear model to predict the variable attitudes (DV) from explicit prejudice (IV2 = prejudiceNatAm). Include a graph of the linear model, and report the slope and R2 value of this model beneath this graph.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>mod2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(attitude <span class="sc">~</span> prejudiceNatAm, <span class="at">data =</span> mascot)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(attitude <span class="sc">~</span> prejudiceNatAm, <span class="at">data =</span> mascot)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(mod2, <span class="at">lwd =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6BL_MascotModels_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>mod2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = attitude ~ prejudiceNatAm, data = mascot)

Coefficients:
   (Intercept)  prejudiceNatAm  
        35.436           9.946  </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mod2)<span class="sc">$</span>r.squared</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1825174</code></pre>
</div>
</div>
<ol type="1">
<li>Describe what you observe about this relationship. Were the reserachers’ theory supported? Why do you think these patterns exist? Which measure of prejudice (implicit or explicit) was a better predictor of the DV?</li>
<li>PROFESSOR BONUS QUESTION LET’S GO!</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(mod1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)    IATscore 
   60.55966    10.80089 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(mod2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   (Intercept) prejudiceNatAm 
     35.435715       9.945856 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mascot<span class="sc">$</span>attitude, <span class="at">main =</span> <span class="st">"SST = Mean as Prediction"</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fu">mean</span>(mascot<span class="sc">$</span>attitude), <span class="at">lwd =</span> <span class="dv">5</span>)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(attitude <span class="sc">~</span> IATscore, <span class="at">data =</span> mascot, <span class="at">main =</span> <span class="st">"SSM = IV1 as Prediction"</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(mod1, <span class="at">lwd =</span> <span class="dv">5</span>)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(attitude <span class="sc">~</span> prejudiceNatAm, <span class="at">data =</span> mascot, <span class="at">main =</span> <span class="st">"SSM = IV2 as Prediction"</span>)</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(mod2, <span class="at">lwd =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6BL_MascotModels_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Z-Scored!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">scale</span>(attitude) <span class="sc">~</span> <span class="fu">scale</span>(IATscore), <span class="at">data =</span> mascot)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>mod1Z <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">scale</span>(attitude) <span class="sc">~</span> <span class="fu">scale</span>(IATscore), <span class="at">data =</span> mascot)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(mod1Z, <span class="at">lwd =</span> <span class="dv">5</span>)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">scale</span>(attitude) <span class="sc">~</span> <span class="fu">scale</span>(prejudiceNatAm), <span class="at">data =</span> mascot)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>mod2Z <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">scale</span>(attitude) <span class="sc">~</span> <span class="fu">scale</span>(prejudiceNatAm), <span class="at">data =</span> mascot)</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(mod2Z, <span class="at">lwd =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6BL_MascotModels_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">coef</span>(mod1Z), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    (Intercept) scale(IATscore) 
           0.00            0.24 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">coef</span>(mod2Z), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          (Intercept) scale(prejudiceNatAm) 
                 0.00                  0.43 </code></pre>
</div>
</div>
</section>
<section id="problem-2." class="level3">
<h3 class="anchored" data-anchor-id="problem-2.">Problem 2.</h3>
<p>How strong is the relationship between implicit and explicit prejudice? Define a linear model to test this prediction. Then, z-score your DV and IV in the linear model, and report (and interpret) the slope and <span class="math inline">\(R^2\)</span> value. How did these statistics change? How did they remain the same?</p>
</section>
<section id="note-work-on-problem-3-on-your-own-and-problem-4-in-discussion-section" class="level3">
<h3 class="anchored" data-anchor-id="note-work-on-problem-3-on-your-own-and-problem-4-in-discussion-section">Note : Work on Problem 3 (On Your Own) and Problem 4 (In Discussion Section!)</h3>
<p>Make sure to include Problems 1 and 2 in your lab assignment, along with Problems 3 and 4. Thanks!</p>
</section>
</section>
<section id="check-in-break-time-meet-back-at-ttt" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="check-in-break-time-meet-back-at-ttt"><a href="https://docs.google.com/forms/d/e/1FAIpQLSetVEXTeBDLiCVpOKKd4L0Wy4W0qkE2Nukhim5FvYJpLAyN2A/viewform?usp=sf_link">Check-In &amp; Break Time (Meet Back at T:TT)</a></h2>
<ul>
<li>Take the check-out.</li>
<li>Feel free to read an excerpt from Tommy Orange’s <a href="https://bookshop.org/books/there-there-9780525436140/9780525436140"><em>THERE THERE</em>.</a></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<p><img src="images/clipboard-1534145705.png" class="img-fluid"></p>
</div><div class="">
<p>The RCA “Indian Head Test Pattern”, as referenced in the text. <img src="images/clipboard-2955135542.png" class="img-fluid"></p>
</div></div>
<p>“In the dark times</p>
<p>Will there also be singing?</p>
<p>Yes, there will also be singing.</p>
<p>About the dark times?”</p>
<p>- Bertolt Brecht</p>
<p>There was an Indian head, the head of an Indian, the drawing of the head of a headdressed, long haired, Indian depicted, drawn by an unknown artist in 1939, broadcast until the late 1970s to American TVs everywhere after all the shows ran out. It’s called the Indian Head Test Pattern. If you left the TV on, you’d hear a tone at 440 hertz—the tone used to tune instruments—and you’d see that Indian, surrounded by circles that looked like sights through rifle scopes. There was what looked like a bullseye in the middle of the screen, with numbers like coordinates. The Indian head was just above the bullseye, like all you’d need to do was nod up in agreement to set the sights on the target. This was just a test.&nbsp;</p>
<p>In 1621, colonists invited Massasoit, chief of the Wampanoags, to a feast after a recent land deal. Massasoit came with ninety of his men. That meal is why we still eat a meal together in November. Celebrate it as a nation. But that one wasn’t a thanksgiving meal. It was a land deal meal. Two years later there was another, similar meal, meant to symbolize eternal friendship. Two hundred Indians dropped dead that night from supposed unknown poison.</p>
<p>By the time Massasoit’s son Metacomet became chief, there were no Indian-Pilgrim meals being eaten together. Metacomet, also known as King Phillip, was forced to sign a peace treaty to give up all Indian guns. Three of his men were hanged. His brother Wamsutta was, let’s say, very likely poisoned after being summoned and seized by the Plymouth court. All of which lead to the first official Indian war. The first war with Indians. King Phillip’s War. Three years later the war was over and Metacomet was on the run. He was caught by Benjamin Church, Captain of the very first American Ranger force and an Indian by the name of John Alderman. Metacomet was beheaded and dismembered. Quartered. They tied his four body sections to nearby trees for the birds to pluck. John Alderman was given Metacomet’s hand, which he kept in a jar of rum and for years took it around with him—charged people to see it. Metacomet’s head was sold to the Plymouth Colony for thirty shillings—the going rate for an Indian head at the time. The head was spiked and carried through the streets of Plymouth before it was put on display at Plymouth Colony Fort for the next twenty five years.&nbsp;</p>
<p>In 1637, anywhere from four to seven hundred Pequot were gathered for their annual green corn dance. Colonists surrounded the Pequot village, set it on fire, and shot any Pequot who tried to escape. The next day the Massachusetts Bay Colony had a feast in celebration, and the governor declared it a day of thanksgiving. Thanksgivings like these happened everywhere, whenever there were, what we have to call: successful massacres. At one such celebration in Manhattan, people were said to have celebrated by kicking the heads of Pequot people through the streets like soccer balls.</p>
<p>The first novel ever written by a Native person, and the first novel written in California, was written in 1854, by a Cherokee guy named John Rollin Ridge. His novel, The Life and Adventures of Joaquin Murieta, was based on a supposed real-life Mexican bandit from California by the same name, who, in 1853, was killed by a group of Texas rangers. To prove they’d killed Murrieta and collect the five thousand dollar reward put on his head—they cut it off. Kept it in a jar of whiskey. They also took the hand of his fellow bandit Three Fingered Jack. The rangers took Joaquin’s head and the hand on a tour throughout California, charged a dollar for the show.&nbsp;</p>
<p>The Indian head in the jar, the Indian head on a pike were like flags flown, to be seen, cast broadly. Just like the Indian head test pattern was broadcast to sleeping Americans as we set sail from our living rooms, over the ocean blue green glowing airwaves, to the shores, the screens of the new world.</p>
</section>
<section id="thinking-more-about-r2" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="thinking-more-about-r2">Thinking More About <span class="math inline">\(R^2\)</span></h2>
<section id="the-formula" class="level3">
<h3 class="anchored" data-anchor-id="the-formula">The Formula</h3>
<p><span class="math inline">\(\Huge R^2 = \frac{SS_{total} - SS_{model}}{SS_{total}}\)</span></p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">SST</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">SSM</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>SST refers to the sum of squared errors when using the mean to make predictions. This is called <em>total</em> because the mean is the starting place for our predictions; our predictions will never be worse than the mean, so we expect the error around the mean to be the largest it will ever be.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="do">## visualizing SST here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>SSM refers to the sum of squared residuals when using the linear model to make predictions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="do">## visualizing SSM here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="in-real-life" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="in-real-life">In Real-Life</h3>
<p><img src="images/clipboard-1347662291.png" class="img-fluid"></p>
<ul>
<li><strong>DISCUSS :</strong> <strong>what do these linear models tell us about the relationship between GPA, SAT (IVs) and freshman grades (DV)?</strong></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<p><img src="images/clipboard-606508161.png" class="img-fluid"></p>
</div></div></section>
</section>
<section id="milestone-2" class="level2">
<h2 class="anchored" data-anchor-id="milestone-2">Milestone #2</h2>
<ul>
<li><p>Prof.&nbsp;looks over some examples of student surveys!</p></li>
<li><p>Other Notes From Student Questions Will Go Here.</p></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>